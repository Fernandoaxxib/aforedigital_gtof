<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition template="/api/layaut2.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"	
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

    <f:metadata>
		<f:event listener="#{modDesParcReportes.iniciar}" type="preRenderView"/>		
	</f:metadata>
  
    <ui:define name="left">
		<ui:include src="graficas.xhtml" />
	</ui:define>
	
	<ui:define name="center">
		<h:outputScript library="js" name="calendar-localization.js"></h:outputScript>
		
		<p:panelGrid class="no-border no-padding" style="width: 100%">
			<p:row>
			<p:column>
		          <ui:include src="subMenuTransacciones.xhtml" />
		    </p:column>
		    <p:column>
		         <h:form>
				     <p:linkButton styleClass="blue ui-button-text" outcome="/api/modDesParc.jsf" includeViewParams="true" value="#{msg.modulo_desempleoParc_btnPM}" >			         
					    <f:param name="init" value="true" />
				     </p:linkButton>
				    			     			    
				     <p:linkButton styleClass="green ui-button-text" outcome="/api/modDesParcReportes.jsf" includeViewParams="true"  value="#{msg.modulo_desempleoParc_btnReportes}" >
				        <f:param name="init" value="true" />
				     </p:linkButton>			      			    
				    
				     <p:linkButton styleClass="blue ui-button-text" outcome="/api/modDesParcLProcesar.jsf" includeViewParams="true"  value="#{msg.modulo_desempleoParc_btnLProcesar}" >
				         <f:param name="init" value="true" />
				     </p:linkButton>	
				 </h:form>
			</p:column>     		      
			 </p:row>   
	    </p:panelGrid>
	    
		<h:form id="form">
		<p:growl id="message" />
			<p:panel id="pnl1" header="#{msg.modulo_desempleoParc_titulo2}" style="margin-bottom:20px;font-size:12px;margin-top:20px">
				    <p:selectOneRadio id="customRadio2"  layout="pageDirection" value="#{modDesParcReportes.radioSelected}" style="font-size:12px">				    	
				    	<p:ajax listener="#{modDesParcReportes.radioSelected}"></p:ajax>
				    	<f:selectItem itemLabel="#{msg.modulo_desempleoParc_radBtnRepDiag}" itemValue="1" />
				    	<f:selectItem itemLabel="#{msg.modulo_desempleoParc_radBtnGenLP}" itemValue="2" />
				    	<f:selectItem itemLabel="#{msg.modulo_desempleoParc_radBtnRepNS}" itemValue="3" />
				    	<f:selectItem itemLabel="#{msg.modulo_desempleoParc_radBtnRepMA}" itemValue="4" />
				    </p:selectOneRadio>
				
				
                    <div class="ui-g">					
                        <div class="ui-g-2"><p:outputLabel for="fCapturada2" value="#{msg.modulo_desempleoParc_lblfecha}" style="font-size:12px;font-weight:bold" /></div>
                        <div class="ui-g-4">
                            <p:datePicker id="fCapturada2" value="#{modDesParcReportes.fecha}" locale="es"  showIcon="true" pattern="dd-MM-yyyy" 	yearNavigator="true" monthNavigator="true" 	inputStyle="width:120px; text-align:right;" readonlyInput="true" >
                                                                                
								<p:ajax event="dateSelect" listener="#{modDesParcReportes.opcionSeleccionada}" update="ruta archivo"></p:ajax>
							</p:datePicker>                       															
                        </div>                          
                        <div class="ui-g-6" style="text-align:left">
                           <p:commandButton styleClass="blue ui-button-text" type="submit" value="#{msg.modulo_desempleoParc_btnProcesar}" action="#{modDesParcReportes.procesarReporte}"  update="pnDetalleProc message"  />
                        </div>                                                                                                                
                     </div>  
                     <div class="ui-g">					
                        <div class="ui-g-2"><p:outputLabel  value="#{msg.modulo_desempleoParc_lblRuta}" style="font-size:12px;font-weight:bold" /></div>
                        <div class="ui-g-10" style="background: #dddddd;border-radius: 5px;height:25px;width:350px;text-align: left;"><p:outputLabel  id="ruta" value="#{modDesParcReportes.ruta}" style="text-align:left;font-size:12px;width:350px" /></div>                       
                     </div> 
                      <div class="ui-g" style="margin-top:10px;">					
                        <div class="ui-g-2"><p:outputLabel  value="#{msg.modulo_desempleoParc_lblArchivo}" style="font-size:12px;font-weight:bold" /></div>
                        <div class="ui-g-10" style="background: #dddddd;border-radius: 5px;height:25px;width:350px;text-align: left;"><p:outputLabel id="archivo" value="#{modDesParcReportes.archivo}" style="text-align:left;font-size:12px;width:350px" /></div>                       
                     </div>                      
		    </p:panel>
		</h:form>
		<p:panel id="pnDetalleProc" header="#{msg.aprob_tabla_titResProc}" style="margin-bottom:20px;font-size:12px">
				<p:dataTable var="pro" value="#{modDesParcReportes.proceso}" emptyMessage="#{msg.aprob_msj_sinDatos}" >
					

					<p:column headerText="#{msg.aprob_tabla_columna_identificador}">
						<h:outputText value="#{pro.abrevProceso}"/>
					</p:column>

					<p:column headerText="#{msg.aprob_tabla_columna_estatus}">
						<h:outputText value="#{pro.estadoProceso}"/>
					</p:column>

					<p:column headerText="#{msg.aprob_tabla_columna_fechaInicio}" styleClass="gridCell-right" >
						<h:outputText value="#{pro.fechahoraInicio}" />						   
					</p:column>
					<p:column headerText="#{msg.aprob_tabla_columna_fechaFin}" styleClass="gridCell-right" >
						<h:outputText value="#{pro.fechahoraFinal}" />						 						
					</p:column>
				</p:dataTable>
			</p:panel>
	</ui:define>
</ui:composition>
