<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition template="layaut.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<f:metadata>
		<f:event listener="#{moduloPagos.iniciar}" type="preRenderView" />
	</f:metadata>


	<ui:define name="center">
		<h:outputStylesheet name="estilo-base.css" library="css" />
		<h:outputScript library="js" name="calendar-localization.js"></h:outputScript>
		<p:panelGrid width="100%" styleClass="ui-noborder">
			<p:row>
				<p:column>
					<ui:include src="menu.xhtml" />
				</p:column>
				<p:column style="margin-left:50px">
					<ui:include src="subMenuSeguimientoProcesos.xhtml" />
				</p:column>
			</p:row>
		</p:panelGrid>

		<h:form>
			<p:panel header="Liquidación fondos y tipos de pago."
				style="margin-top:20px">
				<p:panel id="pFondos" header="#{msg.modulo_pagos_titulo2}"
					style="margin-top:10px;margin-bottom:10px;">
					<p:panelGrid styleClass="ui-noborder" columns="5" cellpadding="10">
						<p:outputLabel for="slPagos"
							value="#{msg.modulo_pagos_label_pagosAfil}" />
						<p:selectOneMenu id="slPagos"
							value="#{moduloPagos.pagosAfiliados}" style="width:160px">
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_basicos}"
								itemValue="#{msg.modulo_pagos_item_basicas}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_adicionales}"
								itemValue="#{msg.modulo_pagos_item_adicionales}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_todos}"
								itemValue="#{msg.modulo_pagos_item_todfon}" />
						</p:selectOneMenu>

						<p:outputLabel for="fProceso"
							value="#{msg.modulo_pagos_label_fechaProceso}" />
						<p:datePicker id="fProceso" value="#{moduloPagos.fechaProceso}"
							locale="es" showIcon="true" pattern="dd-MM-yyyy"
							yearNavigator="true" monthNavigator="true"
							inputStyle="width:120px; text-align:right;" readonlyInput="true">

						</p:datePicker>
						<p:commandButton styleClass="blue ui-button-text" type="submit"
							value="#{msg.modulo_pagos_btn_generaFondos}" update="dlg1"
							action="#{moduloPagos.generarFondos}">
							<p:confirm header="Mensaje"
								message="¿Está seguro de que desea correr este proceso?"
								icon="pi pi-exclamation-triangle" />
						</p:commandButton>
					</p:panelGrid>
				</p:panel>

				<p:panel id="pRetiros" header="#{msg.modulo_pagos_titulo3}"
					style="margin-bottom:20px;">
					<p:panelGrid styleClass="ui-noborder" columns="8" cellpadding="10">
						<p:outputLabel for="slRetiros"
							value="#{msg.modulo_pagos_label_procesRetiros}" />
						<p:selectOneMenu id="slRetiros"
							value="#{moduloPagos.procesosRetiros}" style="width:160px">
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_dispos}"
								itemValue="#{msg.modulo_pagos_item_disposv}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_parciales}"
								itemValue="#{msg.modulo_pagos_item_parcV}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_retVolun}"
								itemValue="#{msg.modulo_pagos_item_volunV}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_penMinGar}"
								itemValue="#{msg.modulo_pagos_item_pmgV}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_todos}"
								itemValue="#{msg.modulo_pagos_item_todV}" />
						</p:selectOneMenu>

						<p:outputLabel for="slInstitucion"
							value="#{msg.modulo_pagos_label_institucion}" />
						<p:selectOneMenu id="slInstitucion"
							value="#{moduloPagos.institucion}" style="width:160px">
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_issste}"
								itemValue="#{msg.modulo_pagos_item_isssteV}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_imss}"
								itemValue="#{msg.modulo_pagos_item_imssV}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_todos}"
								itemValue="#{msg.modulo_pagos_item_todIns}" />
						</p:selectOneMenu>

						<p:outputLabel for="sltiposPagos"
							value="#{msg.modulo_pagos_label_tiposPagos}" />
						<p:selectOneMenu id="sltiposPagos"
							value="#{moduloPagos.tiposPagos}" style="width:160px">
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_tranInter}"
								itemValue="#{msg.modulo_pagos_item_ti}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_ordPagos}"
								itemValue="#{msg.modulo_pagos_item_op}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_cheques}"
								itemValue="#{msg.modulo_pagos_item_ch}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_tdp}"
								itemValue="#{msg.modulo_pagos_item_tdpv}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_todos}"
								itemValue="#{msg.modulo_pagos_item_todPag}" />
						</p:selectOneMenu>

						<p:outputLabel for="fProcesoP"
							value="#{msg.modulo_pagos_label_fechaProceso}" />
						<p:datePicker id="fProcesoP"
							value="#{moduloPagos.fechaProcesoPagos}" locale="es"
							showIcon="true" pattern="dd-MM-yyyy" yearNavigator="true"
							monthNavigator="true" inputStyle="width:120px; text-align:right;"
							readonlyInput="true" />
					</p:panelGrid>
					<div class="ui-g">
						<div class="ui-g-12" style="text-align: right">
							<p:commandButton styleClass="blue ui-button-text" type="submit"
								value="#{msg.modulo_pagos_btn_generaPagos}" update="dlg1"
								action="#{moduloPagos.generarPagos}" global="false">

								<p:confirm header="Mensaje"
									message="¿Está seguro de que desea correr este proceso?"
									icon="pi pi-exclamation-triangle" />
							</p:commandButton>
						</div>
					</div>
				</p:panel>
			</p:panel>

			<p:confirmDialog global="true" showEffect="fade" hideEffect="fade"
				responsive="true" width="300">
				<p:commandButton value="No" type="button"
					styleClass="blue ui-confirmdialog-no ui-button-flat" />
				<p:commandButton value="Si" type="button" update="dlg1"
					styleClass="blue ui-confirmdialog-yes" />
			</p:confirmDialog>
			<p:dialog id="dlg1" appendTo="@(body)" header="Mensaje"
				widgetVar="dlg2" height="100" width="300" resizable="false"
				showEffect="fade" modal="true">
				<p:panelGrid columns="1" class="no-border no-padding">
					<p:outputPanel>
						<p:outputLabel value="#{moduloPagos.msj}" />
					</p:outputPanel>					
				</p:panelGrid>
			</p:dialog>
		</h:form>
	</ui:define>
</ui:composition>