<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<ui:composition template="layout.xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

	<f:metadata>
		<f:event listener="#{solicitudMatrimonioDesempleo.iniciar}" type="preRenderView" />
	</f:metadata>

<!-- 	<ui:define name="left"> -->
<!-- 		<ui:include src="graficas.xhtml" /> -->
<!-- 	</ui:define> -->

	<ui:define name="center">
	<h:outputScript name="js/calendar-localization.js" />
		<p:panelGrid width="100%" styleClass="ui-noborder no-padding">
			<p:row>
				<p:column style="width:400px">
					<ui:include src="menu.xhtml" />
				</p:column>
				<p:column>
					<ui:include src="subMenuReportes.xhtml" />
				</p:column>
			</p:row>
		</p:panelGrid>
		

		
	<h:form id="form">

	
	<p:panel id="busqueda" header="Solicitudes de Matrimonio y Desempleo" style="margin-top:10px">
		
				
				<p:panelGrid id="solicitud" styleClass="ui-noborder"  style="margin-top:10px; width:70%;">
					
							
					<p:row>					
			     		<p:column style="text-align: left !important;width: 250px !important;">
							<p:outputLabel  value="NSS:"  style="font-weight: bold"/>
<!-- 						</p:column> -->
<!-- 						<p:column> -->
<!-- 							<p:inputText id="nss" value="#{solicitudMatrimonioDesempleo.nss}" style="width:100px" ></p:inputText> -->
							<p:inputText id="nss" maxlength="11" placeholder="NSS" value="#{solicitudMatrimonioDesempleo.nss}"  style="text-Align:left;font-size:15px;width:100px"/>
							<p:commandButton class="blue"  actionListener="#{solicitudMatrimonioDesempleo.consultar}"
								 update="result nss nombre cuenta pSolicitud pPago" value="Buscar" />
						</p:column>
						
						<p:column style="text-align: left !important;width: 50px !important;">
							<p:outputLabel value="Nombre:" style="font-weight: bold"></p:outputLabel>
						</p:column>
						<p:column>
<!-- 							<h:outputText value="#{solicitudMatrimonioDesempleo.nombre}"></h:outputText> -->
							<p:outputPanel styleClass="outputlabel-shadow"
											style="width:300px;height:19px !important;padding-top:5px">
											<p:outputLabel id="nombre" value="#{solicitudMatrimonioDesempleo.nombre}" />
							</p:outputPanel>
						</p:column>
						
						<p:column style="text-align: right !important;width: 80px !important;">
							<p:outputLabel value="Cod Cuenta:" style="font-weight: bold"></p:outputLabel>
						</p:column>
						<p:column>
<!-- 							<h:outputText value="#{solicitudMatrimonioDesempleo.cuenta}"></h:outputText> -->
							<p:outputPanel styleClass="outputlabel-shadow"
											style="width:100px;height:19px !important;padding-top:5px">
											<p:outputLabel id="cuenta" value="#{solicitudMatrimonioDesempleo.cuenta}" />
							</p:outputPanel>
						</p:column>
						
						
					</p:row>	
					
						
						
						
								
				</p:panelGrid>
				
  		
 	</p:panel>
 	
 	 	
 	
 	<p:panel id="pSolicitud" header="Solicitud Matrimonio,Desempleo" style="margin-top:20px">
 		
 		<p:dataTable id="verSolicitudMatrimonio"  var="verSolicitud" scrollable="true" scrollHeight="250" paginatorPosition="bottom" emptyMessage="#{solicitudMatrimonioDesempleo.mensajeTablaSolicitud}"
			 value="#{solicitudMatrimonioDesempleo.listSolicitudChequeOut}"  rows="10" paginator="true" rowsPerPageTemplate="5,10,15"
					>
		    
					<f:facet name="header" style="float:right">

						<h:outputLabel for="registrosss" value="#{msg.aprob_label_totalRegistros}"  />
						<h:outputText id="totalSolicitud" value="#{solicitudMatrimonioDesempleo.totalSolicitud}" />

					</f:facet>
		    
<!-- 		    		<p:ajax event="rowSelectCheckbox" update="form:pSolicitud" /> -->
<!-- 		    		<p:column selectionMode="single" style="width:20px;text-align:center"/> -->
		    		
			 <p:column headerText="#{msg.cheque_ver_columna_RightFax}" style="width:50px;text-align: center;">
		        <h:outputText value="#{verSolicitud.rightFax}" />
		    </p:column>		
		    
		    <p:column headerText="#{msg.cheque_ver_columna_fechaOperacion}" style="width:50px;text-align: right;">
		        <h:outputText value="#{verSolicitud.fechaOperacion}" >
		        <f:convertDateTime type="date" pattern="dd-MM-yyyy" />
				</h:outputText>
		    </p:column>
		 
		    <p:column headerText="#{msg.cheque_ver_columna_diagnostico}" style="width:50px;text-align: right;">
		        <h:outputText value="#{verSolicitud.diagnosticoCuenta}" />
		    </p:column>
		    
		    <p:column headerText="#{msg.cheque_ver_columna_prestamo}" style="width:50px;text-align: center;">
		        <h:outputText value="#{verSolicitud.tipoPrestacion}" />
		    </p:column>
		 
		    <p:column headerText="#{msg.cheque_ver_columna_NoSolicitud}" style="width:50px;text-align: right;">
		        <h:outputText value="#{verSolicitud.numeroSolicitud}" />
		    </p:column>
		 	
		 	<p:column headerText="#{msg.cheque_ver_columna_fechaSolicitud}" style="width:50px;text-align: right;">
		        <h:outputText value="#{verSolicitud.fechaTraspaso}" >
		        <f:convertDateTime type="date" pattern="dd-MM-yyyy" />
				</h:outputText>
		    </p:column>
		 
		    <p:column headerText="#{msg.cheque_ver_columna_folioSolicitud}" style="width:50px;text-align: right;">
		        <h:outputText value="#{verSolicitud.fechaPago}" >
		        <f:convertDateTime type="date" pattern="dd-MM-yyyy" />
				</h:outputText>
		    </p:column>
		    
		    <p:column headerText="#{msg.cheque_ver_columna_NoResolucion}" style="width:50px;text-align: center;">
		        <h:outputText value="#{verSolicitud.numeroResolucion}" />
		    </p:column>
		    
		    
		    <p:column headerText="#{msg.cheque_ver_columna_fechaResolucion}" style="width:50px;text-align: right;">
		        <h:outputText value="#{verSolicitud.fechaSolicitud}" >
		        <f:convertDateTime type="date" pattern="dd-MM-yyyy" />
				</h:outputText>
		    </p:column>
		    
		     <p:column headerText="#{msg.cheque_ver_columna_fechaPension}" style="width:50px;text-align: right;">
		        <h:outputText value="#{verSolicitud.consecutivo}" />
		    </p:column>
		    
		    <p:column headerText="#{msg.cheque_ver_columna_Ejecucion}" style="width:50px;text-align: right;">
		        <h:outputText value="#{verSolicitud.numeroEmpleado}" />
		    </p:column>
		 
		   <p:column  align="center" style="width:20px;">
                       					 <p:commandButton id="verFopago" update=":form:display :form:result" oncomplete="PF('productDialog').show()"
                                          action="#{solicitudMatrimonioDesempleo.consultarFopagos}" icon="ui-icon-search" class="blue">
                           				 <f:setPropertyActionListener  value="#{verSolicitud}" ajax="false" class="blue"
                                                         target="#{solicitudMatrimonioDesempleo.solicitudChequeOut}"/>
                                         <p:tooltip for="verFopago" value="Ver Fopago" showEffect="clip" hideEffect="fold" />
                       					 </p:commandButton>
             </p:column>
		 	
		</p:dataTable>
		
			<p:dialog header="Consulta de Pagos" widgetVar="productDialog"  appendTo="@(body)"   resizable="false" width="80%" modal="true"  styleClass="styleWhite" style="font-size:12px">
						 <p:outputPanel id="display">
					
					 <p:panelGrid id="verNombre" styleClass="ui-noborder" 	style="margin-top:20px; width:95%;">	
						
						<p:row>					
			     		<p:column  style="width:20px;text-align: left;">
							<p:outputLabel  value="Poliza:"  style="font-weight: bold"/>
						</p:column>
						<p:column  style="width:20px;text-align: left;">
						<h:outputText value="#{solicitudMatrimonioDesempleo.fopagos.PNoPoliza_Pag}"></h:outputText>
						</p:column>
						<p:column  style="width:20px;text-align: left;">
							<p:outputLabel  value="No. Referencia:"  style="font-weight: bold"/>
						</p:column>
						<p:column  style="width:40px;text-align: left;">
						<h:outputText value="#{solicitudMatrimonioDesempleo.fopagos.PReferencia}"></h:outputText>
						</p:column>
						
						
						<p:column  style="width:50px;text-align: left;">
							<p:outputLabel  value="Telefono Contacto:"  style="font-weight: bold"/>
						</p:column>
						<p:column  style="width:20px;text-align: left;">
							<h:outputText value="#{solicitudMatrimonioDesempleo.fopagos.PTelefono_Pag}"/>
						</p:column>				
			     		
						
						</p:row>	
						<p:row>	
						<p:column  style="width:50px;text-align: left;">
							<p:outputLabel  value="Fecha Cheque:"  style="font-weight: bold"/>
						</p:column>
						<p:column  style="width:20px;text-align: left;">
							<h:outputText value="#{solicitudMatrimonioDesempleo.fopagos.PFechaMov_Pag}">
							<f:convertDateTime type="date" pattern="dd-MM-yyyy " />
							</h:outputText>
						</p:column>
						<p:column  style="width:50px;text-align: left;">
							<p:outputLabel  value="Fecha Reinversion:"  style="font-weight: bold"/>
						</p:column>
						<p:column  style="width:20px;text-align: left;">
							<h:outputText value="#{solicitudMatrimonioDesempleo.fopagos.PFecReinv_Pag}">
							<f:convertDateTime type="date" pattern="dd-MM-yyyy " />
							</h:outputText>
						</p:column>
						
						</p:row>	
					</p:panelGrid>		
						
						<p:dataTable styleClass="styleTable3" var="verSolicitud" value="#{solicitudMatrimonioDesempleo.fopagos}" emptyMessage="#{solicitudMatrimonioDesempleo.mensajeTablaFopagos}"  >
									
									<p:column headerText="Beneficiario" style="width:100px;text-align: center;">
										<h:outputText value="#{verSolicitud.PBenef_Re}" style="float:left"/>
									</p:column>
									<p:column headerText="Porc." style="width:40px;text-align: center;">
										<h:outputText value="#{verSolicitud.PPorcent_Re}" style="float:right">
										<f:convertNumber type="currency" currencySymbol="$" maxFractionDigits="2" />
										</h:outputText>
									</p:column>
									<p:column headerText="Estatus" style="width:40px;text-align: center;">
										<h:outputText value="#{verSolicitud.PEstatus_Re}" style="float:left"/>
									</p:column>
									<p:column headerText="Plaza" style="width:55px;text-align: center;">
										<h:outputText value="#{verSolicitud.PPlaza_Re}" style="float:left"/>
									</p:column>
									<p:column headerText="Monto Retiro." style="width:40px;text-align: center;">
										<h:outputText value="#{verSolicitud.PMonBruto_Re}" style="float:right">
										<f:convertNumber type="currency" currencySymbol="$"
									maxFractionDigits="2" />
									</h:outputText>
									</p:column>
									<p:column headerText="Monto Isr" style="width:40px;text-align: center;">
										<h:outputText value="#{verSolicitud.PMontoIsr_Re}" style="float:right">
										<f:convertNumber type="currency" currencySymbol="$" maxFractionDigits="2" />
							</h:outputText>
									</p:column>
									<p:column headerText="Neto" style="width:40px;text-align: center;">
										<h:outputText value="#{verSolicitud.PMontoNeto_Re}" style="float:right">
										<f:convertNumber type="currency" currencySymbol="$" maxFractionDigits="2" />
										</h:outputText>
									</p:column>
									
									<p:columnGroup  style="width:40px;text-align: center;" type="footer">
						                <p:row>
						                    <p:column  colspan="4" style="text-align:right" footerText="Totales:"/>
						                   
						                     	<p:column style="text-align: right">
											         <f:facet name="footer">
											             <h:outputText value="#{solicitudMatrimonioDesempleo.totalMontoRetiro}">
											                <f:convertNumber type="currency" currencySymbol="$" maxFractionDigits="2" />
											            </h:outputText>
											         </f:facet>
											    </p:column>
						                    						                    
						                   		<p:column   style="text-align: right">
											         <f:facet  name="footer">
											             <h:outputText value="#{solicitudMatrimonioDesempleo.totalMontoIsr}">
											                <f:convertNumber type="currency" currencySymbol="$" maxFractionDigits="2" />
											            </h:outputText>
											         </f:facet>
											    </p:column>
						                    
						                   
						                    	<p:column  style="text-align: right">
											         <f:facet name="footer">
											             <h:outputText value="#{solicitudMatrimonioDesempleo.totalNeto}">
											                <f:convertNumber type="currency" currencySymbol="$" maxFractionDigits="2" />
											            </h:outputText>
											         </f:facet>
											    </p:column>
						                    
						                    
						                </p:row>
						            </p:columnGroup>
						
						</p:dataTable>	
						 </p:outputPanel>
						</p:dialog>
 		
 	</p:panel>


<p:panel id="pPago" header="Pagos Efectuados" style="margin-top:20px">
			
			<p:dataTable id="verPagosEfectuados"  var="verPago"  scrollable="true" scrollHeight="250" paginatorPosition="bottom" emptyMessage="#{solicitudMatrimonioDesempleo.mensajeTablaPago}"
			 value="#{solicitudMatrimonioDesempleo.listPagoChequeOut}"  rows="10" paginator="true" rowsPerPageTemplate="5,10,15" >
		    		    
					
					<f:facet name="header" style="float:right">
						<h:outputLabel for="registross"  value="#{msg.aprob_label_totalRegistros}"  />
						<h:outputText id="totalPago" value="#{solicitudMatrimonioDesempleo.totalPago}" />

					</f:facet>
					
				<p:column headerText="#{msg.cheque_pago_columna_Identificador}" style="width:50px;text-align: center;">
		        <h:outputText value="#{verPago.identificarOperacion}" />
		        </p:column>
		        
		        <p:column headerText="#{msg.cheque_pago_columna_Seguro}" style="width:50px;text-align: center;">
		        <h:outputText value="#{verPago.tipoSeguro}" />
		    </p:column>
		    
		   <p:column headerText="Pension" style="width:50px;text-align: center;">
		        <h:outputText value="#{verPago.tipoPension}" />
		    </p:column>
		 
		    <p:column headerText="#{msg.cheque_pago_columna_Prestacion}" style="width:50px;text-align: center;">
		        <h:outputText value="#{verPago.tipoPrestacion}" />
		    </p:column>
		 	
		 	<p:column headerText="#{msg.cheque_pago_columna_FechaOperacion}" style="width:80px;text-align: center;">
		        <h:outputText value="#{verPago.fechaOperacion}" />
		    </p:column>
		 
		    <p:column headerText="#{msg.cheque_pago_columna_MontoPago}" style="width:50px;text-align: center;">
		        <h:outputText value="#{verPago.importeAutorizado}" />
		    </p:column>
		    
		    <p:column headerText="#{msg.cheque_pago_columna_ImporteRCV}" style="width:50px;text-align: center;">
		        <h:outputText value="#{verPago.importeSubcontrato}" />
		    </p:column>
		    
		     <p:column headerText="#{msg.cheque_pago_columna_Pension}" style="width:50px;text-align: center;">
		        <h:outputText value="#{verPago.codCuenta}" />
		    </p:column>
		    
		    <p:column headerText="#{msg.cheque_pago_columna_FechaOperacion}" style="width:80px;text-align: center;">
		        <h:outputText value="#{verPago.fechaRespuesta}" />
		    </p:column>
		 
		    <p:column headerText="#{msg.cheque_pago_columna_Solicitud}" style="width:70px;text-align: center;">
		        <h:outputText value="#{verPago.solicitud}" />
		    </p:column>
		    
		    <p:column headerText="#{msg.cheque_pago_columna_Diag17}" style="width:50px;text-align: center;">
		        <h:outputText value="#{verPago.op17}" />
		    </p:column>
			
			
		
		
		</p:dataTable>
		
				
							
  	</p:panel>
		
			
	
		<ui:include src="processResult.xhtml">
			<ui:param name="base" value="#{solicitudMatrimonioDesempleo}" />
		</ui:include>
		
		
  </h:form>
  		
  		
  
</ui:define>

</ui:composition>