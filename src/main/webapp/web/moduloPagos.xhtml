<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition template="layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<f:metadata>
		<f:event listener="#{moduloPagos.iniciar}" type="preRenderView" />
	</f:metadata>


	<ui:define name="center">
		<h:outputScript library="js" name="calendar-localization.js"></h:outputScript>
		<p:panelGrid width="100%" styleClass="ui-noborder">
			<p:row>
				<p:column>
					<ui:include src="menu.xhtml" />
				</p:column>
				<p:column style="margin-left:50px">
					<ui:include src="subMenuSeguimientoProcesos.xhtml" />
				</p:column>
			</p:row>
		</p:panelGrid>

		<h:form>
			<p:panel header="Liquidación fondos y tipos de pago."
				style="margin-top:20px">
				<p:panel id="pFondos" header="#{msg.modulo_pagos_titulo2}"
					style="margin-top:10px;margin-bottom:10px;">
					<p:panelGrid styleClass="ui-noborder" columns="5" cellpadding="10">
						<p:outputLabel for="slPagos"
							value="#{msg.modulo_pagos_label_pagosAfil}" />
						<p:selectOneMenu id="slPagos"
							value="#{moduloPagos.pagosAfiliados}" style="width:160px">
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_basicos}"
								itemValue="#{msg.modulo_pagos_item_basicas}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_adicionales}"
								itemValue="#{msg.modulo_pagos_item_adicionales}" />
							<f:selectItem itemLabel="#{msg.modulo_pagos_item_todos}"
								itemValue="#{msg.modulo_pagos_item_todfon}" />
						</p:selectOneMenu>

						<p:outputLabel for="fProceso"
							value="#{msg.modulo_pagos_label_fechaProceso}" />
						<p:datePicker id="fProceso" value="#{moduloPagos.fechaProceso}"
							locale="es" showIcon="true" pattern="dd-MM-yyyy"
							maxdate="#{moduloPagos.fecActual}"
							yearNavigator="true" monthNavigator="true"
							inputStyle="width:120px; text-align:right;" readonlyInput="true">

						</p:datePicker>
						<p:commandButton styleClass="blue" type="button"
							value="#{msg.modulo_pagos_btn_generaFondos}"
							onclick="PF('dlg3_2').show();" />
					</p:panelGrid>
				</p:panel>

				<p:panel id="pRetiros" header="#{msg.modulo_pagos_titulo3}"
					style="margin-bottom:20px;">
					<p:panelGrid styleClass="ui-noborder">
						<p:row>
							<p:column>
								<p:outputLabel for="slRetiros"
									value="#{msg.modulo_pagos_label_procesRetiros}" />
							</p:column>
							<p:column>
								<p:selectOneMenu id="slRetiros"
									value="#{moduloPagos.procesosRetiros}" style="width:160px;margin-right:15px">
									<f:selectItem itemLabel="#{msg.modulo_pagos_item_dispos}"
										itemValue="#{msg.modulo_pagos_item_disposv}" />
									<f:selectItem itemLabel="#{msg.modulo_pagos_item_parciales}"
										itemValue="#{msg.modulo_pagos_item_parcV}" />
									<f:selectItem itemLabel="#{msg.modulo_pagos_item_retVolun}"
										itemValue="#{msg.modulo_pagos_item_volunV}" />
									<f:selectItem itemLabel="#{msg.modulo_pagos_item_penMinGar}"
										itemValue="#{msg.modulo_pagos_item_pmgV}" />
									<f:selectItem itemLabel="#{msg.modulo_pagos_item_todos}"
										itemValue="#{msg.modulo_pagos_item_todV}" />
								</p:selectOneMenu>
							</p:column>
							<p:column>
								<p:outputLabel for="slInstitucion"
									value="#{msg.modulo_pagos_label_institucion}" />
							</p:column>
							<p:column style="margin-right:15px">
								<p:selectOneMenu id="slInstitucion"
									value="#{moduloPagos.institucion}" style="width:160px;margin-right:15px">
									<f:selectItem itemLabel="#{msg.modulo_pagos_item_issste}"
										itemValue="#{msg.modulo_pagos_item_isssteV}" />
									<f:selectItem itemLabel="#{msg.modulo_pagos_item_imss}"
										itemValue="#{msg.modulo_pagos_item_imssV}" />
									<f:selectItem itemLabel="#{msg.modulo_pagos_item_todos}"
										itemValue="#{msg.modulo_pagos_item_todIns}" />
								</p:selectOneMenu>
							</p:column>
							<p:column>
								<p:outputLabel for="sltiposPagos"
									value="#{msg.modulo_pagos_label_tiposPagos}" />
							</p:column>
							<p:column style="margin-right:15px">
								<p:selectOneMenu id="sltiposPagos"
									value="#{moduloPagos.tiposPagos}" style="width:160px;margin-right:15px">
									<f:selectItem itemLabel="#{msg.modulo_pagos_item_tranInter}"
										itemValue="#{msg.modulo_pagos_item_ti}" />
									<f:selectItem itemLabel="#{msg.modulo_pagos_item_ordPagos}"
										itemValue="#{msg.modulo_pagos_item_op}" />
									<f:selectItem itemLabel="#{msg.modulo_pagos_item_cheques}"
										itemValue="#{msg.modulo_pagos_item_ch}" />
									<f:selectItem itemLabel="#{msg.modulo_pagos_item_tdp}"
										itemValue="#{msg.modulo_pagos_item_tdpv}" />
									<f:selectItem itemLabel="#{msg.modulo_pagos_item_todos}"
										itemValue="#{msg.modulo_pagos_item_todPag}" />
								</p:selectOneMenu>
							</p:column>
							<p:column>
								<p:outputLabel for="fProcesoP"
									value="#{msg.modulo_pagos_label_fechaProceso}" />
							</p:column>
							<p:column>
								<p:datePicker id="fProcesoP"
									value="#{moduloPagos.fechaProcesoPagos}" locale="es"
									maxdate="#{moduloPagos.fecActual}"
									showIcon="true" pattern="dd-MM-yyyy" yearNavigator="true"
									monthNavigator="true"
									inputStyle="width:120px; text-align:right;"
									readonlyInput="true" />
							</p:column>
						</p:row>
					</p:panelGrid>
					<div class="ui-g" style="margin-top:20px">
						<div class="ui-g-12" style="text-align:right">
							<p:commandButton styleClass="blue" type="button"
								value="#{msg.modulo_pagos_btn_generaPagos}"
								onclick="PF('dlg2_2').show();" />
						</div>
					</div>
				</p:panel>

				<p:dialog id="dlg1_1" appendTo="@(body)" header="Mensaje"
					widgetVar="dlg1_2" height="auto" width="480" resizable="false"
					showEffect="fade" modal="true">
					<p:panel style="border:0px !important;text-align:center">
						<p:outputPanel style="margin-top:10px;margin-bottom:10px">
							<p:outputLabel value="#{moduloPagos.msj}"
								style="font-size:14px !important; color: #59ad40 !important;" />
						</p:outputPanel>
						<p:commandButton type="button" value="CERRAR" styleClass="blue"
							onclick="PF('dlg1_2').hide();" />
					</p:panel>
				</p:dialog>
				<p:dialog id="dlg2_1" appendTo="@(body)" header="Mensaje"
					widgetVar="dlg2_2" height="auto" width="480" resizable="false"
					showEffect="fade" modal="true">
					<p:panel style="border:0px !important;text-align:center">
						<p:outputPanel style="margin-top:10px;margin-bottom:10px">
							<p:outputLabel
								value="¿Está seguro de que desea correr este proceso?"
								style="font-size:14px !important; color: #59ad40 !important;" />
						</p:outputPanel>
						<p:commandButton type="button" value="CANCELAR" styleClass="blue"
							style="width:90px;margin-right:10px"
							onclick="PF('dlg2_2').hide();" />
						<p:commandButton type="submit" value="SI" styleClass="blue"
							style="width:90px" onclick="PF('dlg2_2').hide();"
							action="#{moduloPagos.generarPagos}" update="dlg1_1" />
					</p:panel>
				</p:dialog>
				<p:dialog id="dlg3_1" appendTo="@(body)" header="Mensaje"
					widgetVar="dlg3_2" height="auto" width="480" resizable="false"
					showEffect="fade" modal="true">
					<p:panel style="border:0px !important;text-align:center">
						<p:outputPanel style="margin-top:10px;margin-bottom:10px">
							<p:outputLabel
								value="¿Está seguro de que desea correr este proceso?"
								style="font-size:14px !important; color: #59ad40 !important;" />
						</p:outputPanel>
						<p:commandButton type="button" value="CANCELAR" styleClass="blue"
							style="width:90px;margin-right:10px"
							onclick="PF('dlg3_2').hide();" />
						<p:commandButton type="submit" value="SI" styleClass="blue"
							style="width:90px" onclick="PF('dlg3_2').hide();"
							action="#{moduloPagos.generarFondos}" update="dlg1_1" />
					</p:panel>
				</p:dialog>
			</p:panel>
		</h:form>
	</ui:define>
</ui:composition>