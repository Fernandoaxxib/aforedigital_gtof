<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition template="layout.xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
	
	<f:metadata>
		<f:event listener="#{salarioMinimo.iniciar}" type="preRenderView"/>
	</f:metadata>
	
   
    	<ui:define name="center">

		<p:panelGrid width="100%" styleClass="ui-noborder no-padding">
			<p:row>
				<p:column style="width:400px">
					<ui:include src="menu.xhtml" />
				</p:column>
				<p:column>
					<ui:include src="subMenuCatalogos.xhtml" />
				</p:column>
			</p:row>
		</p:panelGrid>
		
		
		
	<h:form id="form">
		<p:panel id="datosSalario" header="Salario Minimo" style="margin-top:10px">
		<p:panelGrid id="grid" styleClass="ui-noborder">
		
		<p:row>
						<p:column style="width:250px">
						</p:column>
						<p:column style="width:650px">
									<p:dataTable id="tabla" var="salario"  paginatorPosition="bottom" rows="5" paginator="true" rowsPerPageTemplate="5,10,15" emptyMessage="#{msg.aprob_msj_sinDatos}" value="#{salarioMinimo.salarioMinimoTablaOut}">
									
									<p:column headerText="CdZona"  style="text-align: center">
			        				<h:outputText value="#{salario.cdZona}" style="text-align: center"/> 
			            			</p:column>
			            			
			            			       			
			            			<p:column headerText="FechaCalendario">
			          	        	<h:outputText id="calendarioOut" value="#{salario.fechaCalendario}" style="float:right" > 
			                		<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
			                        </h:outputText> 
			                        </p:column>
								
									<p:column headerText="Monto">
									<h:outputText id="montoOut" value="#{salario.montoDiario}" style="float:right">
									<f:convertNumber type="currency" currencySymbol="$" />
									</h:outputText>
									</p:column>
									
									<p:column headerText="FechaUltimo">
        							<h:outputText id="fechaUltOut" value="#{salario.fechaUltimo}" style="float:right" > 
               						<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
            						</h:outputText> 
                                    </p:column>
        
           							<p:column headerText="Id User">
           							<h:outputText value="#{salario.userId}" />
                                    </p:column>
                                    
                                    <p:column style="width:60px">
                                    	
                                    	<f:facet name="header">
										<p:commandButton styleClass="botonEdicion"
											actionListener="#{salarioMinimo.nuevo}"
											update="formDlg:montoGuardar formDlg:zonaGuardar"
											icon="ui-icon ui-icon-plus" title="Nuevo"
											oncomplete="PF('nuevo').show();"></p:commandButton>
										</f:facet>
                                    	
                                    	<p:commandButton styleClass="botonEdicion"
										update=" formDlgEdit:montoEditar "
										icon="ui-icon ui-icon-pencil" title="Editar"
										actionListener="#{salarioMinimo.editar(salario)}"
										oncomplete="PF('editar').show();"></p:commandButton>
                                    	
                                    	<p:commandButton styleClass="botonEdicion"
										update="form:tabla form:result" icon="ui-icon ui-icon-trash"
										title="Borrar" oncomplete="PF('confirmDelete').show();"
										actionListener="#{salarioMinimo.borrar(salario)}"></p:commandButton>
									 </p:column>
									</p:dataTable>
									
									<p:dialog styleClass="styleWhite" appendTo="@(body)"
												 header="Borrar Salario Minimo"  showEffect="fade" resizable="false"
												widgetVar="confirmDelete" modal="true">
												<p:panel style="border:0px !important;text-align:center">
													<p:outputPanel style="margin-top:10px;margin-bottom:10px">
														<p:outputLabel
															value="Â¿Desea continuar?"
															style="font-size:14px !important; color: #59ad40 !important;" />
													</p:outputPanel>
				
													<p:outputPanel style="text-align:center">
														<p:commandButton value="Si" update="form:grid form:result" style="width:90px"
															class="blue" actionListener="#{salarioMinimo.guardar}"
															oncomplete="PF('confirmDelete').hide();" />
														<p:commandButton value="No" class="blue" style="width:90px"
															onclick="PF('confirmDelete').hide();" type="button" />
													</p:outputPanel>
												</p:panel>
									</p:dialog>
									
									
						</p:column>
		</p:row>
		</p:panelGrid>
		<ui:include src="processResult.xhtml">
			<ui:param name="base" value="#{salarioMinimo}" />
		</ui:include>
		</p:panel>
	</h:form>	
	
		
		 <p:dialog styleClass="styleWhite" header="Editar Salario" appendTo="@(body)" widgetVar="editar" showEffect="fade" modal="true" resizable="false">
        
			
   			
   			<h:form id="formDlgEdit"> 	
   			 	
   			 	<p:messages autoUpdate="true" />
   			
   			 	
   			 	
   			 	<p:panelGrid id="dGrid" styleClass="ui-noborder">
   			 	
				<p:row>
						<p:column colspan="2">
							<p:outputLabel id="mensaje" value="#{salarioMinimo.mensaje}"
								styleClass="etiqueta" />
						</p:column>
					</p:row>


				<p:row>
				 <p:column style="text-align: left !important;width: 5px !important;">
									
									<p:outputLabel value="Monto:"  />
   			 	</p:column>						 
				<p:column style="text-align: left !important;width: 5px !important;">
									
<!-- 									<p:inputText id="montoGuardar" maxlength="7" value="#{salarioMinimo.montoDiario}" > -->
									 <p:inputNumber id="montoEditar" value="#{salarioMinimo.montoDiario}" minValue="0.00"
                                maxValue="9999.99" decimalPlaces="2" />
<!-- 									 <f:convertNumber pattern="#,##0.00" /> -->
<!-- 									</p:inputText> -->
								
   			 	</p:column>		
   			 	
<!--    			 	 <p:column style="text-align: left !important;width: 5px !important;"> -->
									
<!-- 									<p:outputLabel value="Monto:"  /> -->
<!--    			 	</p:column>						  -->
<!-- 				<p:column style="text-align: left !important;width: 5px !important;"> -->
									
<!-- 									<p:inputText id="montoGuardar" value="#{salarioMinimo.montoDiario}" /> -->
<!--    			 	</p:column>		 -->
														
				</p:row>
				</p:panelGrid>
				
				<p:outputPanel style="margin-top:20px;text-align:right">
					<p:commandButton value="Guardar"
						actionListener="#{salarioMinimo.guardar}"
						oncomplete="PF('editar').hide();" update="form:tabla form:result"
						styleClass="blue" />
					<p:commandButton value="Cerrar" onclick="PF('editar').hide();"
						update="form:tabla form:result" styleClass="blue"
						style="margin-left:13px" />

				</p:outputPanel>
				
				
		 </h:form>
		 </p:dialog>
		 
		
		 
       <p:dialog styleClass="styleWhite" header="Agregar Salario" appendTo="@(body)" widgetVar="nuevo" showEffect="fade" modal="true" resizable="false">
        
			
   			
   			<h:form id="formDlg"> 	
   			 	
   			 	<p:messages autoUpdate="true" />
   			
   			 	
   			 	
   			 	<p:panelGrid id="dGrid" styleClass="ui-noborder">
   			 	
   			 	<p:row>
						<p:column colspan="2">
							<p:outputLabel id="mensaje" value="#{salarioMinimo.mensaje}"
								styleClass="etiqueta" />
						</p:column>
					</p:row>
   			 	
<!--    			 	<p:row > -->
<!--    			 	 <p:column style="text-align: left !important;width: 20px !important;"> -->
									
<!-- 									<p:outputLabel value="Usuario:"  /> -->
<!--    			 	</p:column>						  -->
<!-- 				<p:column style="text-align: left !important;width: 300px !important;"> -->
					
<!-- 									<p:inputText id="usuarioGuardar" value="#{salarioMinimo.insertUsuario}"  style="text-Align:left;font-size:15px;width:300px"/> -->
<!--    			 	</p:column>							 -->
<!-- 				</p:row> -->
				
				

				<p:row>
				<p:column style="text-align: left !important;width: 20px !important;">
									
									<p:outputLabel  value="Zona:"  />
   			 	</p:column>						 

   			 	
   			 	<p:column >	
   			 			 
   				<p:selectOneMenu id="zonaGuardar"  value="#{salarioMinimo.insertZona}" effect="fold" editable="true" filter="true" filterMatchMode="startsWith">
        		<f:selectItems value="#{salarioMinimo.tipoZona}" />
   				 </p:selectOneMenu>
							            
				</p:column>
				
				</p:row>

<!-- 				<p:row> -->
<!-- 				<p:column style="text-align: left !important;width: 120px !important;"> -->
									
<!-- 									<p:outputLabel value="Fecha Calendario:" /> -->
									
<!-- 				</p:column>						  -->
									
<!-- 				<p:column style="text-align: left !important;width: 120px !important;">			  -->
									
<!-- 									<p:datePicker id="fechaGuardar" value="#{salarioMinimo.fechaCalendario}" -->
<!-- 									locale="es" showIcon="true" pattern="dd-MM-yyyy" -->
<!-- 									yearNavigator="true" monthNavigator="true" -->
<!-- 									inputStyle="width:80px; text-align:right;" -->
<!-- 									readonlyInput="true" /> -->
<!-- 				</p:column> -->
<!-- 				</p:row> -->
				
				
				<p:row>
				 <p:column style="text-align: left !important;width: 5px !important;">
									
									<p:outputLabel value="Monto:"  />
   			 	</p:column>						 
				<p:column style="text-align: left !important;width: 30px !important;">
									
<!-- 									<p:inputText id="montoGuardar" value="#{salarioMinimo.montoDiario}" style="text-Align:left;font-size:15px;width:50px" /> -->
										 <p:inputNumber id="montoGuardar" value="#{salarioMinimo.montoDiario}" minValue="0.00" maxValue="9999.99" decimalPlaces="2" />
   			 	</p:column>		
														
				</p:row>
				
				</p:panelGrid>
				
				
				<p:outputPanel style="margin-top:20px;text-align:right">
					<p:commandButton value="Guardar"
						actionListener="#{salarioMinimo.guardar}"
						oncomplete="PF('nuevo').hide();" update="form:tabla form:result"
						styleClass="blue" />
					<p:commandButton value="Cerrar" onclick="PF('nuevo').hide();"
						update="form:tabla form:result" styleClass="blue"
						style="margin-left:13px" />

				</p:outputPanel>
   			 	
				
				
	
		 
		 </h:form>
		 </p:dialog>
		 
		
		
		
		
		
		

	
	
</ui:define>


</ui:composition>