<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition template="layout.xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
	
	<f:metadata>
		<f:event listener="#{salarioMinimo.iniciar}" type="preRenderView"/>
	</f:metadata>
	
   
    	<ui:define name="center">

		<h:outputScript name="js/calendar-localization.js" />
		<p:panelGrid width="100%" styleClass="ui-noborder">
			<p:row>
				<p:column>
					<ui:include src="menu.xhtml" />
				</p:column>
				<p:column style="margin-left:50px">
					<ui:include src="subMenuReportes.xhtml" />
				</p:column>
			</p:row>
		</p:panelGrid>
		
		
		
	<h:form id="form">
		<p:panel id="datosSalario" header="Salario Minimo" style="margin-top:20px">
		
		

 
    <p:dataTable id="tableSalario"  widgetVar="salario1" var="salario" emptyMessage="#{msg.aprob_msj_sinDatos}"   paginatorPosition="bottom" rows="5" paginator="true" rowsPerPageTemplate="5,10,15" value="#{salarioMinimo.salarioMinimoTablaOut}" editable="true"  style="margin-top:20px; margin-bottom:20px">
<!--         <f:facet name="header" style="text-align: left;"> -->
<!--             Salario Minimo (diario) -->
<!--         </f:facet> -->
 		
 								<f:facet name="header" style="float:right">

								<h:outputLabel for="registros"
								value="#{msg.aprob_label_totalRegistros}"  />
								<h:outputText id="totalRegistros"
								value="#{salarioMinimo.totalIdUsuario}" />

								</f:facet>
 		
 
        <p:ajax event="rowEdit" listener="#{salarioMinimo.onRowEdit}" update=":form:tableSalario :form:result" />
        <p:ajax event="rowEditCancel" listener="#{salarioMinimo.onRowCancel}" update=":form:tableSalario :form:result" />
 
        <p:column headerText="CdZona"  style="text-align: center">
        <h:outputText value="#{salario.cdZona}" style="text-align: center"/> 
            
        </p:column>
 
          <p:column headerText="FechaCalendario">
          	
          	<h:outputText id="calendarioOut" value="#{salario.fechaCalendario}" style="float:right" > 
                						<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
                						 </h:outputText> 
          
            
        </p:column>
 
        
        <p:column headerText="Monto">
            <p:cellEditor>
                <f:facet name="output"><h:outputText value="#{salario.montoDiario}" style="float:right" >  
                					   <f:convertNumber type="currency" currencySymbol="$" />
									   </h:outputText>
                </f:facet>
                <f:facet name="input"><p:inputText value="#{salario.montoDiario}" style="width:100%" /> </f:facet>
            </p:cellEditor>
        </p:column>
 
        <p:column headerText="FechaUltimo">
        
        								<h:outputText id="fechaUltOut" value="#{salario.fechaUltimo}" style="float:right" > 
                						<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
                						 </h:outputText> 
            
        </p:column>
        
           <p:column headerText="Id User">
           <h:outputText value="#{salario.userId}" />
            
        </p:column>
 
        <p:column style="width:35px">
            <p:rowEditor />
        </p:column>
    </p:dataTable>
		

        <p:commandButton id="verDetalle" styleClass="blue ui-button-text" value="Agregar"  onclick="PF('tabla2').show();" />
        
        
			<p:dialog id="dialogGuardar" header="Agregar Usuario" widgetVar="tabla2"   resizable="false" positionType="absolute" style="margin-top:20px">
   			 	<p:outputPanel id="display">
   			 	
   			 	
   			 	
   			 	<p:panelGrid styleClass="ui-noborder" >
   			 	<p:row >
   			 	 <p:column style="text-align: left !important;width: 20px !important;">
									
									<p:outputLabel value="Usuario:"  />
   			 	</p:column>						 
				<p:column style="text-align: left !important;width: 300px !important;">
					
									<p:inputText id="usuarioGuardar" value="#{salarioMinimo.insertUsuario}"  style="text-Align:left;font-size:15px;width:300px"/>
   			 	</p:column>							
				
				<p:column style="text-align: left !important;width: 20px !important;">
									
									<p:outputLabel value="Zona:"  />
   			 	</p:column>						 
				<p:column style="text-align: left !important;width: 20px !important;">
					
									<p:inputText id="zonaGuardar" value="#{salarioMinimo.insertZona}"  style="text-Align:left;font-size:15px;width:10px"/>
   			 	</p:column>	
				
				<p:column style="text-align: left !important;width: 120px !important;">
									
									<p:outputLabel value="Fecha Calendario:" />
									
				</p:column>						 
									
				<p:column style="text-align: left !important;width: 120px !important;">			 
									
									<p:datePicker id="fechaGuardar" value="#{salarioMinimo.fechaCalendario}"
									locale="es" showIcon="true" pattern="dd-MM-yyyy"
									yearNavigator="true" monthNavigator="true"
									inputStyle="width:80px; text-align:right;"
									readonlyInput="true" />
				</p:column>
				 <p:column style="text-align: left !important;width: 5px !important;">
									
									<p:outputLabel value="Monto:"  />
   			 	</p:column>						 
				<p:column style="text-align: left !important;width: 5px !important;">
									
									<p:inputText id="montoGuardar" value="#{salarioMinimo.montoDiario}" />
   			 	</p:column>		
														
				</p:row>
				</p:panelGrid>
				
				
				<p:outputPanel style="text-align:right">
									
				<p:commandButton onclick="PF('tabla2').hide();" update="result" value="Cerrar" styleClass="blue ui-button-text" style="margin-right:10px" ajax="true" />
   			 	
				<p:commandButton styleClass="blue ui-button-text" actionListener="#{salarioMinimo.onAddNew}"
				 value="Enviar"  update="result usuarioGuardar,zonaGuardar,fechaGuardar,montoGuardar"  ajax="true"/>
   			 	</p:outputPanel>
   			 	
   			 	
				
				
		 </p:outputPanel>	
		</p:dialog>
		
		
		</p:panel>	
		
		<ui:include src="processResult.xhtml">
			<ui:param name="base" value="#{salarioMinimo}" />
		</ui:include>
  </h:form>
</ui:define>


</ui:composition>