<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition template="layout3.xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

	<f:metadata>
		<f:event listener="#{graficasCtrll.iniciar}" type="preRenderView" />
	</f:metadata>

	<ui:define name="menu">
		<ui:include src="menu.xhtml" />
	</ui:define>
	<ui:define name="submenu">
		<ui:include src="subMenuTransacciones2.xhtml" />
	</ui:define>


	<ui:define name="center">
		<h:form id="form">
			<p:panel style="border:0px !important">

				<p:outputPanel style="margin-bottom:25px !important">
					<p:dataTable id="table1" var="dato"
						style="display:#{graficasCtrll.display};border:0px !important;"
						value="#{graficasCtrll.datosTotales}"
						emptyMessage="#{msg.aprob_msj_sinDatos}">

						<p:column headerText="Tipo retiro" style="width:110px !important;">
							<h:outputText value="#{dato.TIPO_RETIRO}" style="float:left;" />
						</p:column>

						<p:column headerText="Total retiro">
							<h:outputText value="#{dato.TOTAL_RETIROS}" style="float:right;" />
						</p:column>

						<p:column headerText="Retiros cancelados">
							<h:outputText value="#{dato.RETIROS_CANCELADOS}"
								style="float:right;" />
						</p:column>

						<p:column headerText="Retiros precaptura">
							<h:outputText value="#{dato.RETIROS_PRECAPTURA}"
								style="float:right;" />
						</p:column>
						<p:column headerText="Retiros capturada">
							<h:outputText value="#{dato.RETIROS_CAPTURADA}"
								style="float:right;" />
						</p:column>
						<p:column headerText="Retiros rechazada">
							<h:outputText value="#{dato.RETIROS_RECHAZADA}"
								style="float:right;" />
						</p:column>
						<p:column headerText="Retiros previos liquidados">
							<h:outputText value="#{dato.RETIROS_PREV_LIQUIDA}"
								style="float:right;" />
						</p:column>
						<p:column headerText="Retiros liquidados">
							<h:outputText value="#{dato.RETIROS_LIQUIDADOS}"
								style="float:right;" />
						</p:column>
						<p:column headerText="Retiros liquidados por mes">
							<h:outputText value="#{dato.RETIRO_LIQUIDA_MENS}"
								style="float:right;" />
						</p:column>
					</p:dataTable>

					<p:panelGrid id="graf1" class="ui-noborder"
						style="display:#{graficasCtrll.display}">
						<p:row>
							<p:column style="width:300px">
								<p:pieChart model="#{graficasCtrll.pieModel}"
									rendered="#{graficasCtrll.pieModel != null}"
									style="width: 100%; height: 400px;margin-right:50px !important">
									<p:ajax event="itemSelect"
										listener="#{graficasCtrll.itemSelect}"
										update="form:graf1 form:graf2 form:graf3 form:table1 form:table2 form:btn" />
								</p:pieChart>
							</p:column>
							<p:column style="width:300px">
								<p:barChart model="#{graficasCtrll.barModel1_1}"
									rendered="#{graficasCtrll.barModel1_1 != null}"
									style="width: 100%; height: 400px;margin-right:50px !important">
									<p:ajax event="itemSelect"
										listener="#{graficasCtrll.itemSelect2}"
										update="form:graf1 form:graf2 form:graf3 form:table1 form:table2 form:btn" />
								</p:barChart>
							</p:column>
							<p:column style="width:300px">
								<p:barChart model="#{graficasCtrll.barModel1_2}"
									rendered="#{graficasCtrll.barModel1_2 != null}"
									style="width: 100%; height: 400px;margin-right:50px !important">
									<p:ajax event="itemSelect"
										listener="#{graficasCtrll.itemSelect3}"
										update="form:graf1 form:graf2 form:graf3 form:table1 form:table2 form:btn" />
								</p:barChart>
							</p:column>
						</p:row>
					</p:panelGrid>
				</p:outputPanel>

				<p:outputPanel id="btn"
					style="text-align:right !important;margin-bottom:10px !important">
					<p:commandButton style="display:#{graficasCtrll.display2}"
						styleClass="blue" type="submit" value="Regresar"
						action="#{graficasCtrll.regresar}"
						update="form:graf1 form:graf2 form:graf3 form:table1 form:table2 form:btn"
						ajax="true" />
				</p:outputPanel>

				<p:outputPanel style="margin-bottom:10px !important">
					<p:dataTable id="table2" var="dato"
						style="display:#{graficasCtrll.display2};border:0px !important"
						value="#{graficasCtrll.datosDetalles}"
						emptyMessage="#{msg.aprob_msj_sinDatos}">

						<p:column headerText="Tipo retiro" style="width:110px !important">
							<h:outputText value="#{dato.RETIROS}" style="float:left;" />
						</p:column>

						<p:column headerText="Estatus" style="width:150px !important">
							<h:outputText value="#{dato.ESTATUS}" style="float:left;" />
						</p:column>

						<p:column headerText="IVRT">
							<h:outputText value="#{dato.IVRT}" style="float:right;" />
						</p:column>

						<p:column headerText="Negativa de pensi贸n">
							<h:outputText value="#{dato.NEG_PEN}" style="float:right;" />
						</p:column>
						<p:column headerText="SAR por negativa de pensi贸n">
							<h:outputText value="#{dato.SAR_X_NEG}" style="float:right;" />
						</p:column>
						<p:column headerText="SAR">
							<h:outputText value="#{dato.SAR}" style="float:right;" />
						</p:column>
						<p:column headerText="Desempleo" style="width:72px">
							<h:outputText value="#{dato.DESEMPLEO}" style="float:right;" />
						</p:column>
						<p:column headerText="Matrimonio" style="width:72px">
							<h:outputText value="#{dato.MATRIMONIO}" style="float:right;" />
						</p:column>
						<p:column headerText="Francci贸n AFORE">
							<h:outputText value="#{dato.FRACC_AFORE}" style="float:right;" />
						</p:column>
						<p:column headerText="Fracci贸n AFORE B">
							<h:outputText value="#{dato.FRACC_AFORE_B}" style="float:right;" />
						</p:column>
						<p:column headerText="Retiro al 2%">
							<h:outputText value="#{dato.RETIRO_2_PORC}" style="float:right;" />
						</p:column>
					</p:dataTable>
				</p:outputPanel>

				<p:outputPanel style="margin-bottom:60px !important">
					<p:panelGrid id="graf2" class="ui-noborder"
						style="display:#{graficasCtrll.display3}">
						<p:row>
							<p:column style="width:600px">
								<p:barChart model="#{graficasCtrll.barModel2_1}"
									rendered="#{graficasCtrll.barModel2_1 != null}"
									style="width: 100%; height: 400px;margin-left:180px !important" />
							</p:column>
						</p:row>
					</p:panelGrid>
					<p:panelGrid id="graf3" class="ui-noborder"
						style="display:#{graficasCtrll.display4}">
						<p:row>
							<p:column style="width:600px">
								<p:barChart model="#{graficasCtrll.barModel2_2}"
									rendered="#{graficasCtrll.barModel2_2 != null}"
									style="width: 100%; height: 400px;margin-left:180px !important" />
							</p:column>
						</p:row>
					</p:panelGrid>
				</p:outputPanel>
			</p:panel>
		</h:form>
	</ui:define>
</ui:composition>